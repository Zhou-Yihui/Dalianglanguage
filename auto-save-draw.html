<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>星门字符造字器</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { background:#0b0c2a; color:#fff; font-family:"Microsoft YaHei"; text-align:center; margin:0; padding:20px; }
  canvas { background:#111; border:1px solid #f0c000; border-radius:6px; margin-top:10px; }
  select, button { margin:8px; padding:8px 16px; border:none; border-radius:6px; cursor:pointer; font-size:15px; }
  button:hover { opacity:0.9; }
  #renderBtn { background:#f0c000; color:#000; }
</style>
</head>
<body>
  <h2>🌌 星门字符造字器</h2>
  <input type="text" id="charName" placeholder="输入字符拉丁音名"/>
  <button id="addCharBtn">添加新字符</button>
  <button id="renderBtn">渲染字符</button>
  <canvas id="canvas" width="300" height="300"></canvas>

<script src="render.js"></script>
<script>
let allChars = JSON.parse(localStorage.getItem("stargate_chars")) || { chars: [] };
const canvas = document.getElementById("canvas");
const charNameInput = document.getElementById("charName");

document.getElementById("addCharBtn").addEventListener("click", () => {
    const name = charNameInput.value.trim();
    if(!name) return alert("请输入字符拉丁音名！");
    allChars.chars.push({ name, strokes: [] });  // 新增空笔画
    localStorage.setItem("stargate_chars", JSON.stringify(allChars));
    alert("字符已添加，可以绘制笔画了！");
});

// 渲染按钮
document.getElementById("renderBtn").addEventListener("click", () => {
    const name = charNameInput.value.trim();
    const charObj = allChars.chars.find(c=>c.name===name);
    if(!charObj) return alert("字符不存在！");
    renderChar(charObj.strokes, canvas.width, canvas.height);
});
</script>
</body>
</html>
