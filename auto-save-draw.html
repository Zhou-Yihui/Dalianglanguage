<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>æ˜Ÿé—¨å­—ç¬¦é€ å­—å™¨</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { background:#0b0c2a; color:#fff; font-family:"Microsoft YaHei"; text-align:center; margin:0; padding:20px; }
  canvas { background:#111; border:1px solid #f0c000; border-radius:6px; margin-top:10px; }
  select, button { margin:8px; padding:8px 16px; border:none; border-radius:6px; cursor:pointer; font-size:15px; }
  button:hover { opacity:0.9; }
  #renderBtn { background:#f0c000; color:#000; }
</style>
</head>
<body>
  <h2>ğŸŒŒ æ˜Ÿé—¨å­—ç¬¦é€ å­—å™¨</h2>
  <input type="text" id="charName" placeholder="è¾“å…¥å­—ç¬¦æ‹‰ä¸éŸ³å"/>
  <button id="addCharBtn">æ·»åŠ æ–°å­—ç¬¦</button>
  <button id="renderBtn">æ¸²æŸ“å­—ç¬¦</button>
  <canvas id="canvas" width="300" height="300"></canvas>

<script src="render.js"></script>
<script>
let allChars = JSON.parse(localStorage.getItem("stargate_chars")) || { chars: [] };
const canvas = document.getElementById("canvas");
const charNameInput = document.getElementById("charName");

document.getElementById("addCharBtn").addEventListener("click", () => {
    const name = charNameInput.value.trim();
    if(!name) return alert("è¯·è¾“å…¥å­—ç¬¦æ‹‰ä¸éŸ³åï¼");
    allChars.chars.push({ name, strokes: [] });  // æ–°å¢ç©ºç¬”ç”»
    localStorage.setItem("stargate_chars", JSON.stringify(allChars));
    alert("å­—ç¬¦å·²æ·»åŠ ï¼Œå¯ä»¥ç»˜åˆ¶ç¬”ç”»äº†ï¼");
});

// æ¸²æŸ“æŒ‰é’®
document.getElementById("renderBtn").addEventListener("click", () => {
    const name = charNameInput.value.trim();
    const charObj = allChars.chars.find(c=>c.name===name);
    if(!charObj) return alert("å­—ç¬¦ä¸å­˜åœ¨ï¼");
    renderChar(charObj.strokes, canvas.width, canvas.height);
});
</script>
</body>
</html>
